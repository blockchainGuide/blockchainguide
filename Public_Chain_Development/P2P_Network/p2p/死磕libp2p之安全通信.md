# TLS

TLS（传输层安全）是一种用于保护没有内建安全功能（例如TCP、WebSocket）的传输的安全握手协议之一。噪声（Noise）是TLS的替代方案，也是另一种用于保护传输的安全握手协议。

## 什么是TLS？
TLS是一种建立安全数据通道的加密协议。TLS提供加密、认证和数据完整性。

在TLS握手过程中，客户端和服务器之间建立了一个安全连接。握手完成后，双方都派生了一个密钥（TLS主密钥），只有这两个对话方知道该密钥，然后用于加密通过通道发送的应用程序数据。

## 什么是TLS 1.3？
TLS 1.3是TLS协议的一个新版本，于2018年在RFC 8446中发布。它比TLS 1.2带来了几个改进：**在典型情况下，握手的延迟从2个网络往返降至1个网络往返**；通过加密证书来改善隐私属性；并且简化协议以减少实现复杂性。

## 握手
libp2p使用TLS 1.3握手来建立两个节点之间的安全连接。节点在握手期间会验证对方的libp2p对等ID。

在协议协商过程中，TLS 1.3可通过以下协议ID进行识别：/tls/1.0.0。

节点身份验证是通过将公钥编码到TLS证书中来完成的。我们设计了该系统以验证TLS不支持的密钥类型，如sepc256k1（一种可用于libp2p密钥的密钥类型）。

在处理TLS证书时，节点会从接收到的公钥中派生对等ID。发起连接的节点会检查其是否与其意图连接的节点的对等ID匹配。

## Noise 

Noise协议框架是一种广泛使用的加密方案，它通过将密码原语组合成具有可验证安全性质的模式来实现安全通信。

了解更多信息，请访问[https://noiseprotocol.org](https://noiseprotocol.org/)。

## libp2p中的Noise
libp2p使用Noise协议框架对节点之间的数据进行加密并提供前向保密性。noise-libp2p是Noise协议框架的一种实现，**用于通过交换密钥和在libp2p握手过程中加密流量来建立两个节点之间的安全通道**。成功完成Noise握手后，生成的密钥通过安全通道发送密文消息。这些消息的线路格式和用于加密的密码原语在libp2p-noise规范中指定。